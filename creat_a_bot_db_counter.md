# ساخت شمارنده پایگاه داده بات

در این آموزش می خواهیم یک بات طراحی کنیم که در پایگاه داده خود یک عدد را ذخیره می کند و ما آن را بتوانیم افزایش دهیم.

اینجا ما تنها با استفاده از یک دستور این کار را می خواهیم انجام دهیم.

با استفاده از پازل command handler دستور /count را تعریف می کنیم. پازل زیر را از بخش key value database انتخاب می کنیم 








این پازل ۳ قسمت دارد. در قسمت اول( به ترتیب اط بالا به پایین ) متغیری که می خواهیم بات برای ما پیدا کند را قرار می دهیم(counter)
حال اگر بات این متغیر را پیدا کند، قسمت دوم این پازل اجرا می شود.
در این قسمت با استفاده از پازل های بخش math متغیر counter یک واحد را افزایش می دهیم. الان ما باید متغیر را در پیکاه داده ذخیره کنیم.
برای این کار از پازل save key value database استفاده می کنیم که در بخش key value database قرار دارد.



در قسمت اول این پازل کلید پایگاه داده را می نویسیم ودر قسمت دوم شئ(object) که می خواهیم ذخیره کنیم را قرار می دهیم.

اکنون قسمت key found به اتمام رسید.
قسمت key not found برای زمانی است که آن کلیدی که در پازل عکس اول داده بودیم، بات پیدا نکرده است.
اینجا همان پازل های key found را استفاده می کنیم ولی به جای افزایش متغیر مربوطه آن را برابر یک قرار می دهیم.

نتیجه این می شود که شما با ارسال دستور /count برای بار اول، متغیر counter برابر عدد یک می شود ولی دفعات بعدی، هر دفعه یک واحد به آن اضافه می شود
حتی اگر بات را خاموش و روشن کنید، مقدار counter تغییر نمی کند زیرا در پایگاه داده بات ذخیره شده است.
